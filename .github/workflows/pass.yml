on: [push]
jobs:
  my-job:
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository
        uses: actions/checkout@v3
        
      - name: Set up MATLAB
        uses: matlab-actions/setup-matlab@v1
        
      - name: Run MATLAB script that appends value to GITHUB_OUTPUT
        id: matlab
        uses: matlab-actions/run-command@v1
        with:
          command: |
            myvalue = "hello world";
            
            fid = fopen(getenv("GITHUB_OUTPUT"), "at");
            fwrite(fid, "myvalue="+myvalue);
            fclose(fid);
            
      - name: Print value in system shell
        run: echo ${{ steps.matlab.outputs.myvalue }}
